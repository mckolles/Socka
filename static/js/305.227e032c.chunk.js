"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[305],{1305:function(n,e,r){r.r(e),r.d(e,{FriendsContainer:function(){return Z},default:function(){return I}});var t=r(8683),i=r(5671),o=r(3144),s=r(136),a=r(516),u=r(8687),c=r(2791),l=r(9439),d="Paginator_selectedPage__ZuqEm",f="Paginator_paginator__4Fy29",g=r(184),p=function(n){for(var e=Math.ceil(n.totalItemsCount/n.pageSize),r=[],t=1;t<=e;t++)r.push(t);var i=Math.ceil(e/n.portionSize),o=(0,c.useState)(1),s=(0,l.Z)(o,2),a=s[0],u=s[1],p=(a-1)*n.portionSize+1,h=a*n.portionSize;return(0,c.useEffect)((function(){return u(Math.ceil(n.currentPage/n.portionSize))}),[n.currentPage,n.portionSize]),(0,g.jsxs)("div",{className:f,children:[a>1&&(0,g.jsx)("button",{onClick:function(){u(a-1)},children:"<"}),r.filter((function(n){return n>=p&&n<=h})).map((function(e){return(0,g.jsx)("span",{className:n.currentPage===e?d:"",onClick:function(r){n.onPageChanged(e)},children:e},e)})),i>a&&(0,g.jsx)("button",{onClick:function(){u(a+1)},children:">"})]})},h=r(1087),P="Friends_photo__Pm0cv",j="Friends_buttons__E+f2Q",m=function(n){return(0,g.jsx)(g.Fragment,{children:n.friendsData.map((function(e){return(0,g.jsxs)("div",{children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("div",{children:(0,g.jsx)(h.OL,{to:"/Profile/"+e.id,children:(0,g.jsx)("img",{className:P,src:null!=e.photos.small?e.photos.small:"https://sun9-49.userapi.com/impg/qSLuFyG2PoXIJWHi5vuUom481lPU_olynB9u8Q/Ta4Q0Yh4-ec.jpg?size=176x215&quality=95&sign=aac022efdebdf0144d3a10e9f5f557c4&type=album",alt:""})})}),(0,g.jsx)("div",{children:e.followed?(0,g.jsx)("button",{disabled:n.followingInProgres.some((function(n){return n===e.id})),className:j,onClick:function(){n.unfollow(e.id)},children:"Unfollow"}):(0,g.jsx)("button",{disabled:n.followingInProgres.some((function(n){return n===e.id})),className:j,onClick:function(){n.follow(e.id)},children:"Follow"})})]}),(0,g.jsxs)("span",{children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("div",{children:e.name}),(0,g.jsx)("div",{children:e.status})]}),(0,g.jsx)("span",{children:(0,g.jsxs)("div",{children:["f.country"," ","f.city"]})})]})]},e.id)}))})},x=function(n){return(0,g.jsxs)("div",{children:[(0,g.jsx)(p,{totalItemsCount:n.totalUsersCount,pageSize:n.pageSize,currentPage:n.currentPage,onPageChanged:n.onPageChanged,portionSize:5}),(0,g.jsx)(m,(0,t.Z)({},n))]})},C=r(8176),v=r(7781),k=r(378),F=function(n){return n.friendsPage.friendsData},S=function(n){return n.friendsPage.pageSize},_=function(n){return n.friendsPage.totalUsersCount},w=function(n){return n.friendsPage.currentPage},z=function(n){return n.friendsPage.isFetching},y=function(n){return n.friendsPage.followingInProgres},b=r(4137),Z=function(n){(0,s.Z)(r,n);var e=(0,a.Z)(r);function r(){var n;(0,i.Z)(this,r);for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(n=e.call.apply(e,[this].concat(o))).onPageChanged=function(e){n.props.getFriendsThunkCreator(e,n.props.pageSize)},n}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.props.getFriendsThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,g.jsxs)(g.Fragment,{children:[this.props.isFetching?(0,g.jsx)(C.Z,{}):null,this.props.isFetching?null:(0,g.jsx)(x,(0,t.Z)((0,t.Z)({},this.props),{},{onPageChanged:this.onPageChanged}))]})}}]),r}(c.Component),I=(0,v.qC)((0,u.$j)((function(n){return{friendsData:F(n),pageSize:S(n),totalUsersCount:_(n),currentPage:w(n),isFetching:z(n),followingInProgres:y(n)}}),{unfollow:b.fv,follow:b.ZN,getFriendsThunkCreator:b.ku}),k.B)(Z)}}]);
//# sourceMappingURL=305.227e032c.chunk.js.map